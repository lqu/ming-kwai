<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Chinese Characters</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
        }
        input, button {
            padding: 10px;
            margin: 5px;
            font-size: 16px;
        }
        #image-container {
            margin-top: 20px;
        }
        #character-image {
            max-width: 300px;
            border: 1px solid #ccc;
            padding: 10px;
            display: none;
            margin: 20px auto;  /* Center horizontally */
            display: block;
        }
    </style>
</head>
<body>

    <h2>Combine Radicals</h2>
	<p>Copy from here: 
	<p>⿰⿱⿴
	<p>⺶吉
	<p>
    
    <label for="structure">Structure:</label>
    <input type="text" id="structure" value="⿰" size="2">

    <label for="A">Component A:</label>
    <input type="text" id="A" value="⺶" size="2">

    <label for="B">Component B:</label>
    <input type="text" id="B" value="吉" size="2">

    <label for="style">Style:</label>
    <input type="text" id="style" value="HinaMincho">

    <button onclick="fetchCharacterImage()">Get Image</button>

    <div id="image-container">
        <p id="status"></p>
        <img id="character-image" alt="Character Image">
    </div>

    <script>
        async function fetchCharacterImage() {
            const structure = document.getElementById("structure").value.trim();
            const A = document.getElementById("A").value.trim();
            const B = document.getElementById("B").value.trim();
            const style = document.getElementById("style").value.trim();

            if (!structure || !A || !B) {
                alert("Please enter Structure, Component A, and Component B.");
                return;
            }

            const apiUrl = "https://xhfjfxihgg.execute-api.us-west-2.amazonaws.com"; // Replace with your actual API Gateway URL

            const requestData = {
                structure: structure,
                A: A,
                B: B,
                style: style
            };

            document.getElementById("status").innerText = "Fetching image...";
            document.getElementById("character-image").style.display = "none";

            try {
                const response = await fetch(apiUrl, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(requestData)
                });

                const result = await response.json();

                if (result.message === "success" && result.image) {
                    document.getElementById("character-image").src = `data:image/png;base64,${result.image}`;
                    document.getElementById("character-image").style.display = "block";
                    document.getElementById("status").innerText = "Character found!";
                } else {
                    document.getElementById("status").innerText = result.message;
                }
            } catch (error) {
                console.error("Error fetching image:", error);
                document.getElementById("status").innerText = "Error fetching image.";
            }
        }
    </script>

</body>
</html>

